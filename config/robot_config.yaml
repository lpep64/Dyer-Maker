# Robot System Configuration for Dyer-Maker Digital Twin
robot:
  # Robot identification
  robot_name: "niryo_ned2"
  robot_type: "niryo"
  namespace: ""  # Empty for global namespace, or "/robot1" for multi-robot
  
  # Robot capabilities and limits
  capabilities:
    max_reach: 0.55  # meters
    max_payload: 0.3  # kg
    max_speed: 0.5   # m/s
    position_accuracy: 0.001  # meters
    
  # Joint limits (degrees)
  joint_limits:
    joint_1: [-175, 175]
    joint_2: [-80, 80]
    joint_3: [-90, 90]
    joint_4: [-110, 110]
    joint_5: [-170, 170]
    joint_6: [-180, 180]
  
  # Safety parameters
  safety:
    workspace_bounds:
      x_min: -0.6
      x_max: 0.6
      y_min: -0.6
      y_max: 0.6
      z_min: -0.1
      z_max: 0.6
    max_acceleration: 1.0  # m/s²
    collision_detection: true
    emergency_stop_deceleration: 5.0  # m/s²
  
  # Motion planning parameters
  motion_planning:
    planner: "RRTstar"  # RRT, RRTstar, PRM
    planning_time: 5.0   # seconds
    max_velocity_scaling: 0.5
    max_acceleration_scaling: 0.5
    goal_tolerance:
      position: 0.01  # meters
      orientation: 0.1  # radians
  
  # Home and reference positions
  positions:
    home:
      joint_positions: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
      cartesian: 
        position: [0.3, 0.0, 0.25]
        orientation: [0.0, 0.0, 0.0, 1.0]  # quaternion
    
    pickup_approach:
      height_offset: 0.05  # meters above pickup point
      
    place_approach:
      height_offset: 0.05  # meters above place point
  
  # Gripper configuration
  gripper:
    type: "standard_gripper"
    force_range: [10, 100]  # Newtons
    default_force: 50       # Newtons
    open_position: 0.8      # 0.0 = closed, 1.0 = fully open
    closed_position: 0.2
    grip_detection_threshold: 0.1  # Force threshold for grip detection
    
    # Timing parameters
    open_time: 1.0   # seconds to fully open
    close_time: 1.0  # seconds to fully close
  
  # Pick and place operation parameters
  pick_place:
    # Default speeds
    approach_speed: 0.1      # m/s
    pickup_speed: 0.05       # m/s
    transfer_speed: 0.2      # m/s
    place_speed: 0.05        # m/s
    retreat_speed: 0.1       # m/s
    
    # Default offsets
    approach_offset: 0.05    # meters
    retreat_offset: 0.05     # meters
    
    # Safety parameters
    max_pickup_attempts: 3
    grip_confirmation_time: 0.5  # seconds
    
    # Trajectory parameters
    waypoint_tolerance: 0.01  # meters
    path_constraints:
      max_cartesian_speed: 0.3
      max_joint_speed: 1.0

# MoveIt2 Configuration
moveit:
  # Planning groups
  planning_groups:
    - name: "arm"
      base_link: "base_link"
      tip_link: "gripper_link"
      
  # Planning scene
  planning_scene:
    collision_checking: true
    self_collision_checking: true
    
  # Controllers
  controllers:
    arm_controller:
      type: "joint_trajectory_controller"
      joints: 
        - "joint_1"
        - "joint_2" 
        - "joint_3"
        - "joint_4"
        - "joint_5"
        - "joint_6"
      
    gripper_controller:
      type: "gripper_controller"
      joint: "gripper_joint"

# Performance and Diagnostics
performance:
  # Monitoring parameters
  cycle_time_target: 10.0     # seconds for complete pick-place cycle
  success_rate_target: 95.0   # percentage
  
  # Logging
  log_operations: true
  log_level: "INFO"
  
  # Metrics collection
  collect_metrics: true
  metrics_publish_rate: 1.0   # Hz