# Conveyor System Configuration for Dyer-Maker Digital Twin
conveyors:
  # Conveyor 1 - Input conveyor
  conveyor_1:
    # Identification
    conveyor_id: "input_conveyor"
    type: "standard"
    
    # Physical parameters
    dimensions:
      length: 2.0    # meters
      width: 0.3     # meters
      height: 0.8    # meters above ground
    
    # Belt parameters
    belt:
      max_speed: 1.0           # m/s
      default_speed: 0.2       # m/s
      acceleration: 0.5        # m/s²
      deceleration: 0.5        # m/s²
      surface_friction: 0.8
      
    # Position and orientation
    pose:
      position: [-1.0, 0.0, 0.0]  # [x, y, z] relative to world origin
      orientation: [0.0, 0.0, 0.0]  # [roll, pitch, yaw] in radians
    
    # Control parameters
    control:
      direction: "forward"     # forward, reverse
      auto_start: false
      emergency_stop_enabled: true
      
    # Sensors
    sensors:
      photo_eye_entry:
        position: 0.1          # meters from start of belt
        enabled: true
      photo_eye_exit:
        position: 1.9          # meters from start of belt  
        enabled: true
      encoder:
        enabled: true
        resolution: 1000       # pulses per revolution
      load_sensor:
        enabled: false
        threshold: 0.5         # kg
  
  # Conveyor 2 - Output conveyor
  conveyor_2:
    # Identification
    conveyor_id: "output_conveyor"
    type: "standard"
    
    # Physical parameters
    dimensions:
      length: 2.0    # meters
      width: 0.3     # meters
      height: 0.8    # meters above ground
    
    # Belt parameters
    belt:
      max_speed: 1.0           # m/s
      default_speed: 0.2       # m/s
      acceleration: 0.5        # m/s²
      deceleration: 0.5        # m/s²
      surface_friction: 0.8
      
    # Position and orientation
    pose:
      position: [1.0, 0.0, 0.0]   # [x, y, z] relative to world origin
      orientation: [0.0, 0.0, 0.0]  # [roll, pitch, yaw] in radians
    
    # Control parameters
    control:
      direction: "forward"     # forward, reverse
      auto_start: false
      emergency_stop_enabled: true
      
    # Sensors
    sensors:
      photo_eye_entry:
        position: 0.1          # meters from start of belt
        enabled: true
      photo_eye_exit:
        position: 1.9          # meters from start of belt
        enabled: true
      encoder:
        enabled: true
        resolution: 1000       # pulses per revolution

# Part tracking configuration
part_tracking:
  # Part parameters
  default_part_size: [0.05, 0.05, 0.02]  # [length, width, height] in meters
  
  # Tracking parameters
  max_parts_per_belt: 10
  part_timeout: 30.0         # seconds - remove parts not updated
  position_update_rate: 10   # Hz
  
  # Part colors and properties
  part_types:
    red_part:
      color: "red"
      size: [0.05, 0.05, 0.02]
      weight: 0.1            # kg
    green_part:
      color: "green" 
      size: [0.06, 0.04, 0.025]
      weight: 0.12           # kg
    blue_part:
      color: "blue"
      size: [0.04, 0.06, 0.02]
      weight: 0.08           # kg

# Synchronization parameters
synchronization:
  # Multi-conveyor coordination
  enable_coordination: true
  
  # Timing parameters
  part_spacing_min: 0.15     # meters - minimum distance between parts
  transfer_timing_offset: 0.5 # seconds - delay for robot coordination
  
  # Speed matching
  speed_synchronization: true
  speed_tolerance: 0.01      # m/s tolerance for speed matching

# Safety and emergency handling
safety:
  # Emergency stops
  emergency_stop:
    deceleration: 2.0        # m/s² - how quickly to stop
    timeout: 5.0             # seconds - max time to complete stop
    
  # Fault detection
  fault_detection:
    belt_slip_threshold: 0.1  # m/s - max difference between command and actual
    overload_threshold: 150   # percentage of nominal motor current
    temperature_threshold: 60 # degrees Celsius
    
  # Recovery procedures
  auto_recovery:
    enabled: true
    max_recovery_attempts: 3
    recovery_delay: 2.0      # seconds between attempts

# Performance monitoring
monitoring:
  # Metrics collection
  collect_metrics: true
  metrics_publish_rate: 1.0  # Hz
  
  # Performance targets
  targets:
    uptime_percentage: 95.0
    throughput_parts_per_minute: 10
    average_speed_accuracy: 99.0  # percentage
    
  # Data logging
  logging:
    enabled: true
    log_level: "INFO"
    log_file_path: "/tmp/conveyor_logs"
    max_log_size_mb: 100